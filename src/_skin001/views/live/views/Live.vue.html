<v-sheet
    ref="divbox"
    :class="$vuetify.breakpoint.mobile ? 'rounded-10' : 'rounded-b-10'"
    class="overflow-hidden"
    color="bgBanner"
>
    <v-divider v-if="!$vuetify.breakpoint.mobile"/>
    <v-skeleton-loader v-if="pageData.loading" class="mx-auto rounded-0" width="100%" height="208" type="image"></v-skeleton-loader>
    <v-window v-else v-model="window">
        <v-window-item class="pb-4">
            <v-sheet class="textGray--text text-14" color="transparent" v-if="matche">
                <div class="text-center mt15 text-14">{{getCompName()}}</div>

                <v-row dense class="mx-2">
                    <v-col align="center">
                        <!-- <v-sheet width="60" height="60" color="btnPlain" class="rounded-pill overflow-hidden"> -->
                        <v-img :src="getHomeIcon()" max-width="60" width="60" height="60"></v-img>
                        <!-- </v-sheet> -->
                        <v-sheet height="42" color="transparent" class="mt-2 textGray--text overflow-hidden">{{getHomeName()}}</v-sheet>
                        <div class="d-flex justify-center mt-1 mb-n5">
                            <v-sheet
                                v-if="getStates() && split_goals(getStates().red_cards_ft)[0] > 0"
                                class="d-flex align-center justify-center text-16 cards white--text"
                                rounded
                                color="red"
                                width="18"
                                height="24"
                            >
                                {{split_goals(getStates().red_cards_ft)[0]}}
                            </v-sheet>
                            <v-sheet
                                v-if="getStates() && split_goals(getStates().yellow_cards_ft)[0] > 0"
                                class="d-flex align-center justify-center text-16 ml-1 cards white--text"
                                rounded
                                color="yellow1"
                                width="18"
                                height="24"
                            >
                                {{split_goals(getStates().yellow_cards_ft)[0]}}
                            </v-sheet>
                        </div>
                    </v-col>
                    <v-col class="text-30 btnPlain--text" align="center" align-self="center">
                        <div class="mt-1 text-14">{{matche.group_match}}</div>
                        <template v-if="getStates()">
                            <div class="d-flex justify-center font-weight-bold">
                                <div v-if="isShowFullScore()">
                                    {{goals_ot_Value[0]}}<span class="text-18" v-if="isShowPK()">({{goals_pk_Value[0]}})</span>
                                </div>
                                <div v-else>{{goalsValue[0]}}</div>
                                <!-- <div v-else>{{goalsValue[0]}}<span class="text-18">(0)</span></div> -->
                                <div class="mx-2">-</div>
                                <div v-if="isShowFullScore()">
                                    {{goals_ot_Value[1]}}<span class="text-18" v-if="isShowPK()">({{goals_pk_Value[1]}})</span>
                                </div>
                                <div v-else>{{goalsValue[1]}}</div>
                                <!-- <div v-else>{{goalsValue[1]}}<span class="text-18">(0)</span></div> -->
                            </div>

                            <div class="d-flex justify-center text-14">
                                <div class="mr-1">{{LangUtil(getStates().match_phase)}}</div>
                                <div v-if="getStates().phase_minute > 0">{{ getStates().phase_minute }}{{LangUtil("分钟")}}</div>
                            </div>
                        </template>
                        <template v-else>
                            <div class="text-20 font-weight-bold">VS</div>
                            <div class="red--text text-14">{{LangUtil("未开赛")}}</div>
                            <div class="text-no-wrap btnPlain--text text-14 mt-1">{{start_time}}</div>
                        </template>
                    </v-col>
                    <v-col align="center">
                        <!-- <v-sheet width="60" height="60" color="btnPlain" class="rounded-pill overflow-hidden"> -->
                        <v-img :src="getAwayIcon()" max-width="60" width="60" height="60"></v-img>
                        <!-- </v-sheet> -->
                        <v-sheet height="42" color="transparent" class="mt-2 textGray--text overflow-hidden">{{getAwayName()}}</v-sheet>
                        <div class="d-flex justify-center mt-1 mb-n5">
                            <v-sheet
                                v-if="getStates() && split_goals(getStates().yellow_cards_ft)[1] > 0"
                                class="d-flex align-center justify-center text-16 cards white--text"
                                rounded
                                color="yellow1"
                                width="18"
                                height="24"
                                >{{split_goals(getStates().yellow_cards_ft)[1]}}</v-sheet
                            >
                            <v-sheet
                                v-if="getStates() && split_goals(getStates().red_cards_ft)[1] > 0"
                                class="d-flex align-center justify-center text-16 ml-1 cards white--text"
                                rounded
                                color="red"
                                width="18"
                                height="24"
                                >{{split_goals(getStates().red_cards_ft)[1]}}</v-sheet
                            >
                        </div>
                    </v-col>
                </v-row>

                <template v-if="!getStates() && matche && matche.sb_time-GlobalVar.server_time >= 600">
                    <div class="d-flex justify-center mt-4">
                        <div class="d-flex align-center" v-for="(item, index) in getDowncount()" :key="index">
                            <v-sheet
                                class="d-flex align-center justify-center rounded font-weight-bold mr-1 downcount"
                                width="16"
                                height="26"
                                >{{item}}</v-sheet
                            >
                            <div v-if="[1,3,5].includes(index)" class="mr-1 font-weight-bold">:</div>
                        </div>
                    </div>
                    <div class="d-flex justify-center mt-1">
                        <div class="dateitem mr-2">{{LangUtil("天")}}</div>
                        <div class="dateitem mr-2">{{LangUtil("时")}}</div>
                        <div class="dateitem mr-2">{{LangUtil("分")}}</div>
                        <div class="dateitem mr-2">{{LangUtil("秒")}}</div>
                    </div>
                </template>

                <v-sheet
                    color="transparent"
                    width="100%"
                    class="d-flex align-center justify-center mt-4 textGray--text "
                    v-if="getStates()"
                >
                    <svg-icon class="text-18 mr-2" icon="corner"></svg-icon>
                    <div>{{getStates().corners_ft != '' ? getStates().corners_ft : '0-0'}}</div>
                    <svg-icon class="text-18 ml-4 mr-2" icon="hafe_time"></svg-icon>
                    <div>{{getStates().goals_ht != '' ? getStates().goals_ht : '0-0' }}</div>
                </v-sheet>
            </v-sheet>
        </v-window-item>
        <v-window-item>
            <LivePlayer v-if="window==1" :videoUrl="pageData.live_url" live autoplay />
        </v-window-item>
        <v-window-item>
            <iframe
                v-if="window==2"
                ref="ifr"
                class="mt-1"
                width="100%"
                :height="iframeHeight"
                frameborder="0"
                :src="'./animation/preview.html?anim_id=' + pageData.animation_id + '&lang=' + GlobalVar.lang"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            ></iframe>
        </v-window-item>
    </v-window>
</v-sheet>
